angular.module("starter",["ionic","starter.controllers"]).run(function($ionicPlatform,$ionicModal,$rootScope,$interval){$ionicPlatform.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0)),window.StatusBar&&StatusBar.styleDefault()}),localStorage.closureIsland||(localStorage.closureIsland="none"),(!localStorage.understood||localStorage.understoodTime<=(new Date).valueOf()-2592e6)&&($rootScope.hasWarning=!0,$ionicModal.fromTemplateUrl("templates/warningModal.html",{scope:$rootScope,animation:"slide-in-up"}).then(function(modal){$rootScope.warningModal=modal,$rootScope.warningModal.show()})),$rootScope.understood=function(){localStorage.understood=!0,localStorage.understoodTime=(new Date).valueOf(),$rootScope.warningModal.hide()}}).config(function($stateProvider,$urlRouterProvider){$stateProvider.state("app",{url:"/app",abstract:!0,templateUrl:"templates/menu.html"}).state("app.map",{url:"/map",views:{menuContent:{templateUrl:"templates/map.html",controller:"MapCtrl"}}}).state("app.favorites",{url:"/favorites",views:{menuContent:{templateUrl:"templates/favorites.html",controller:"FavoritesCtrl"}}}).state("app.closures",{url:"/closures",views:{menuContent:{templateUrl:"templates/closures.html",controller:"ClosuresCtrl"}}}).state("app.incidents",{url:"/incidents",views:{menuContent:{templateUrl:"templates/incidents.html",controller:"IncidentsCtrl"}}}).state("app.settings",{url:"/settings",views:{menuContent:{templateUrl:"templates/settings.html",controller:"SettingsCtrl"}}}),"favorites"===localStorage.favOnStart?$urlRouterProvider.otherwise("/app/favorites"):"closures"===localStorage.favOnStart?$urlRouterProvider.otherwise("/app/closures"):"incidents"===localStorage.favOnStart?$urlRouterProvider.otherwise("/app/incidents"):$urlRouterProvider.otherwise("/app/map")});